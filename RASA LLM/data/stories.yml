version: "3.1"

stories:

- story: happy path
  steps:
  - user: "Hello"
  - action: utter_ask_phone
  - intent: phone
  # - user: "This is my phone number [2365894561] (number)"
    entities:
    - number: 7896541230
  - slot_was_set:
    - phone: 9874561230
  - action: action_say_phone



- story: path with name and place
  steps:
  # - user: "I am John Doe and I live in New York"
  - intent: name_and_place
    entities:
    - name: jane doe
    - place: newyork
  - slot_was_set:
    - name: John Doe
    - place: newyork
  - action: action_say_name_and_place


- story: path with name
  steps:
  - intent: name
    entities:
    - name: jane doe
  - slot_was_set:
    - name: John Doe
  - action: action_say_name_and_place

- story: path with place
  steps:
  - intent: place
    entities:
    - place: newyork
  - slot_was_set:
    - place: london
  - action: action_say_name_and_place







- story: inquire medical info
  steps:
  - user: "tell me about diabetes symptoms."
  - action: utter_medical_info
  # - intent: medical_query
  # - action: action_medical_info

- story: request prescription
  steps:
  - user: "I need a prescription"
  - action: utter_prescription
  # - intent: prescription_request
  # - action: action_prescription

- story: inquire insurance info
  steps:
  - user: "can you provide information about my health insurance?"
  - action: action_insurance_info
  # - intent: insurance_info
  # - action: action_insurance_info

- story: goodbye
  steps:
  - user: "good bye"
  - action: utter_goodbye

- story: repeat phone
  steps:
  - user: "repeat my phone number"
  - action: action_say_phone

## Happy path for booking an appointment
- story: Book appointment
  steps:
    - user: "I want to schedule an appointment."
    - action: action_book_appointment
    - action: utter_ask_appointment_type
    - intent: inform_booking
      entities:
        - appointment_type: "general checkup"
    - action: validate_appointment_form
    - active_loop: validate_appointment_form
    - slot_was_set:
      - appointment_type: "general checkup"
    - intent: inform_booking
      entities:
        - name: "John Doe"
        - place: "City"
        - age: "30"
        - appointment_day: "Monday"
        - appointment_timeslot: "morning"
        - number: "1234567890"
    - action: validate_appointment_form
    - active_loop: null
    - action: action_book_appointment

## Alternative path for changing appointment type
- story: Change appointment type
  steps:
    - user: "I want to schedule an appointment."
    - action: action_book_appointment
    - action: utter_ask_appointment_type
    - intent: inform_booking
      entities:
        - appointment_type: "specialist consultation"
    - action: validate_appointment_form
    - active_loop: validate_appointment_form
    - slot_was_set:
      - appointment_type: "specialist consultation"
    - intent: inform_booking
      entities:
        - name: "Alice"
        - place: "Hospital"
        - age: "25"
        - appointment_day: "Wednesday"
        - appointment_timeslot: "afternoon"
        - number: "9876543210"
    - action: validate_appointment_form
    - active_loop: null
    - action: action_book_appointment

# - story: path with name, place, and appointment date
#   steps:
#     - user: "Hello"
#     - action: appointment_form
#     - active_loop: appointment_form
#     - slot_was_set:
#         - requested_slot: appointment_date
#     - intent: choose_appointment_date
#       entities:
#         - date: "2024-03-01"
#     - active_loop: null
#     - action: action_book_appointment

# - story: interactive story 1
#   steps:
#   - intent: ask_me_anything
#   - action: shirt_size_form
#   - active_loop: shirt_size_form
#   - slot_was_set:
#     - requested_slot: shirt_size
#   - slot_was_set:
#     - shirt_size: medium
#   - slot_was_set:
#     - requested_slot: null
#   - active_loop: null
#   - action: utter_remember
#   - intent: repeat_shirt_size
#   - action: utter_happy
#   - intent: mood_unhappy
#   - action: utter_cheer_up
#   - action: utter_did_that_help
#   - intent: mood_unhappy
#   - action: utter_happy
#   - user: "good bye"
#   - action: utter_goodbye

# - story: interactive story 2
#   steps:
#   - user: "Hey"
#   - action: utter_greet
#   - intent: mood_unhappy
#   - action: utter_cheer_up
#   - action: utter_did_that_help
#   - intent: affirm
#   - action: utter_happy
#   - intent: repeat_shirt_size
#   - action: action_say_shirt_size
#   - intent: ask_me_anything
#   - action: shirt_size_form
#   - active_loop: shirt_size_form
#   - slot_was_set:
#     - requested_slot: shirt_size
#   - slot_was_set:
#     - shirt_size: large
#   - slot_was_set:
#     - requested_slot: null
#   - active_loop: null
#   - action: utter_remember
#   - intent: repeat_shirt_size
#   - action: action_say_shirt_size
#   - intent: mood_unhappy
#   - action: utter_cheer_up
#   - action: utter_did_that_help
#   - intent: affirm
#   - action: utter_happy

# - story: interactive story 3
#   steps:
#   - user: "Hey"
#   - action: utter_greet
#   - intent: mood_unhappy
#     entities:
#     - shirt_size: medium
#   - action: utter_cheer_up
#   - action: utter_did_that_help
#   - intent: affirm
#   - action: utter_happy
#   - intent: repeat_shirt_size
#   - action: action_say_shirt_size


# - story: book appointment
#   steps:
#   - user: "I want to schedule an appointment."
#   - action: action_book_appointment
# - story: book appointment
#   steps:
#   - user: "I want to schedule an appointment."
#   - action: action_book_appointment
#   # - intent: book_appointment
#   # - action: action_book_appointment